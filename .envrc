# .envrc
# direnv configuration - auto-activates nix shell on cd
# Requires nix-direnv for caching (otherwise slow)

# Use nix flake dev shell (cached by nix-direnv)
use flake

# Load secrets from Pulumi ESC (if available and configured)
# This keeps secrets out of files - they exist only in memory
if command -v pulumi &> /dev/null && [ -n "${PULUMI_ESC_ENV:-}" ]; then
  eval "$(pulumi env open "$PULUMI_ESC_ENV" --format shell 2>/dev/null || true)"
fi
